# System Architecture Diagrams

## 1. High-Level System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        USER LAYER                            â”‚
â”‚                                                               â”‚
â”‚  ğŸ‘¤ Web Browser (Desktop/Mobile)                             â”‚
â”‚  - Chrome, Firefox, Safari, Edge                             â”‚
â”‚  - Responsive design (mobile-first)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚ HTTPS
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PRESENTATION LAYER                        â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚         Next.js 14+ Frontend (React)                   â”‚ â”‚
â”‚  â”‚                                                         â”‚ â”‚
â”‚  â”‚  ğŸ“ File Upload UI   ğŸ“Š Dashboard   ğŸ“ˆ Analytics      â”‚ â”‚
â”‚  â”‚  âš™ï¸  Configuration   ğŸ‘¤ Profile     ğŸ“‰ Charts         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                               â”‚
â”‚  Technologies: React, Tailwind CSS, Recharts, TypeScript    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚ REST API
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    API GATEWAY LAYER                         â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚         Next.js API Routes                             â”‚ â”‚
â”‚  â”‚                                                         â”‚ â”‚
â”‚  â”‚  ğŸ” Authentication   âœ… Validation   ğŸš¦ Rate Limiting  â”‚ â”‚
â”‚  â”‚  ğŸ“¤ File Upload     ğŸ” Query        ğŸ“Š Reporting       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                               â”‚
â”‚  Technologies: NextAuth.js, Zod, Express middleware          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â†“               â†“               â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Parser     â”‚ â”‚  Analyzer   â”‚ â”‚Recommender   â”‚
â”‚   Service    â”‚ â”‚   Engine    â”‚ â”‚  Engine      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“               â†“               â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   BUSINESS LOGIC LAYER                       â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ File Parser  â”‚  â”‚  Metrics     â”‚  â”‚ Recommendation   â”‚  â”‚
â”‚  â”‚              â”‚â†’ â”‚  Calculator  â”‚â†’ â”‚    Generator     â”‚  â”‚
â”‚  â”‚ â€¢ FIT        â”‚  â”‚              â”‚  â”‚                  â”‚  â”‚
â”‚  â”‚ â€¢ TCX        â”‚  â”‚ â€¢ Pace       â”‚  â”‚ â€¢ Training Tips  â”‚  â”‚
â”‚  â”‚ â€¢ GPX        â”‚  â”‚ â€¢ HR Zones   â”‚  â”‚ â€¢ Confidence     â”‚  â”‚
â”‚  â”‚              â”‚  â”‚ â€¢ Splits     â”‚  â”‚ â€¢ Personalized   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Forecasting  â”‚  â”‚Visualization â”‚  â”‚  Configuration   â”‚  â”‚
â”‚  â”‚   Service    â”‚  â”‚   Service    â”‚  â”‚    Manager       â”‚  â”‚
â”‚  â”‚              â”‚  â”‚              â”‚  â”‚                  â”‚  â”‚
â”‚  â”‚ â€¢ Riegel     â”‚  â”‚ â€¢ Charts     â”‚  â”‚ â€¢ User Prefs     â”‚  â”‚
â”‚  â”‚ â€¢ VDOT       â”‚  â”‚ â€¢ Reports    â”‚  â”‚ â€¢ Goals          â”‚  â”‚
â”‚  â”‚ â€¢ Prediction â”‚  â”‚ â€¢ Export     â”‚  â”‚ â€¢ Settings       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                               â”‚
â”‚  Technologies: TypeScript, custom algorithms                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â†“               â†“               â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  File Store  â”‚ â”‚  Database   â”‚ â”‚    Cache     â”‚
â”‚   (S3/Local) â”‚ â”‚ (PostgreSQL)â”‚ â”‚   (Redis)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“               â†“               â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      DATA LAYER                              â”‚
â”‚                                                               â”‚
â”‚  â€¢ Activity Files (FIT/TCX/GPX)                              â”‚
â”‚  â€¢ User Profiles & Settings                                  â”‚
â”‚  â€¢ Analysis Results                                          â”‚
â”‚  â€¢ Historical Data                                           â”‚
â”‚  â€¢ Session Cache                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 2. Data Flow Diagram - File Upload to Analysis

```
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚  USER   â”‚
     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
          â”‚ 1. Upload FIT/TCX/GPX file
          â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ File Uploaderâ”‚
   â”‚   Component  â”‚
   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚ 2. Client-side validation
          â”‚    (format, size, type)
          â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  POST /api/  â”‚
   â”‚    upload    â”‚
   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚ 3. Server-side validation
          â”‚    Save to storage
          â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ File Storage â”‚ â”€â”€â”€â”€â”€â”
   â”‚  (S3/Local)  â”‚      â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
                         â”‚ 4. Retrieve file
                         â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚    Parser Factory           â”‚
   â”‚                             â”‚
   â”‚  if (FIT) â†’ FitParser       â”‚
   â”‚  if (TCX) â†’ TcxParser       â”‚
   â”‚  if (GPX) â†’ GpxParser       â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ 5. Parse & extract
                  â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚   Unified Data Model     â”‚
   â”‚                          â”‚
   â”‚  {                       â”‚
   â”‚    metadata: {...}       â”‚
   â”‚    records: [...]        â”‚
   â”‚    laps: [...]          â”‚
   â”‚  }                       â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚ 6. Normalized data
              â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚   Metrics Calculator     â”‚
   â”‚                          â”‚
   â”‚  â€¢ Calculate pace        â”‚
   â”‚  â€¢ Calculate HR zones    â”‚
   â”‚  â€¢ Calculate splits      â”‚
   â”‚  â€¢ Estimate VO2 max      â”‚
   â”‚  â€¢ Calculate TSS         â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚ 7. Metrics object
              â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  Recommendation Engine   â”‚
   â”‚                          â”‚
   â”‚  â€¢ Analyze patterns      â”‚
   â”‚  â€¢ Generate insights     â”‚
   â”‚  â€¢ Calculate confidence  â”‚
   â”‚  â€¢ Prioritize tips       â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚ 8. Recommendations
              â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  Forecasting Service     â”‚
   â”‚                          â”‚
   â”‚  â€¢ Apply Riegel formula  â”‚
   â”‚  â€¢ Calculate VDOT        â”‚
   â”‚  â€¢ Predict 5K time       â”‚
   â”‚  â€¢ Confidence interval   â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚ 9. Forecast data
              â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚      Database            â”‚
   â”‚  (PostgreSQL)            â”‚
   â”‚                          â”‚
   â”‚  activities              â”‚
   â”‚  â”œâ”€ id                   â”‚
   â”‚  â”œâ”€ user_id              â”‚
   â”‚  â”œâ”€ activity_data        â”‚
   â”‚  â”œâ”€ metrics              â”‚
   â”‚  â”œâ”€ recommendations      â”‚
   â”‚  â””â”€ forecast             â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚ 10. Store results
              â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  Visualization Service   â”‚
   â”‚                          â”‚
   â”‚  â€¢ Transform for charts  â”‚
   â”‚  â€¢ Format for UI         â”‚
   â”‚  â€¢ Create summaries      â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚ 11. Formatted data
              â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚   GET /api/activities/   â”‚
   â”‚          :id             â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚ 12. API response
              â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚     Dashboard UI         â”‚
   â”‚                          â”‚
   â”‚  ğŸ“Š Charts               â”‚
   â”‚  ğŸ“ˆ Metrics cards        â”‚
   â”‚  ğŸ’¡ Recommendations      â”‚
   â”‚  ğŸ”® Forecast display     â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚ 13. Render results
              â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  USER   â”‚
        â”‚ (Views) â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 3. Component Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FRONTEND COMPONENTS                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

app/
â”œâ”€â”€ (auth)/                    â† Authentication Pages
â”‚   â”œâ”€â”€ login/page.tsx              â€¢ NextAuth.js integration
â”‚   â”œâ”€â”€ register/page.tsx           â€¢ Form validation (Zod)
â”‚   â””â”€â”€ layout.tsx                  â€¢ Auth layout wrapper
â”‚
â”œâ”€â”€ (dashboard)/               â† Protected Dashboard
â”‚   â”œâ”€â”€ dashboard/page.tsx          â€¢ Activity overview
â”‚   â”œâ”€â”€ activities/                 â€¢ Activity management
â”‚   â”‚   â”œâ”€â”€ page.tsx                    - List view
â”‚   â”‚   â””â”€â”€ [id]/page.tsx               - Detail view
â”‚   â”œâ”€â”€ upload/page.tsx             â€¢ File upload UI
â”‚   â”œâ”€â”€ profile/page.tsx            â€¢ User settings
â”‚   â””â”€â”€ layout.tsx                  â€¢ Dashboard layout
â”‚
â””â”€â”€ api/                       â† API Routes
    â”œâ”€â”€ auth/[...nextauth]/route.ts â€¢ NextAuth handler
    â”œâ”€â”€ upload/route.ts             â€¢ File upload endpoint
    â”œâ”€â”€ activities/
    â”‚   â”œâ”€â”€ route.ts                    - List activities
    â”‚   â””â”€â”€ [id]/
    â”‚       â”œâ”€â”€ route.ts                - Get/update activity
    â”‚       â”œâ”€â”€ metrics/route.ts        - Get metrics
    â”‚       â”œâ”€â”€ recommendations/        - Get recommendations
    â”‚       â”‚   route.ts
    â”‚       â””â”€â”€ forecast/route.ts       - Get forecast
    â””â”€â”€ user/
        â”œâ”€â”€ profile/route.ts        â€¢ User profile
        â”œâ”€â”€ goals/route.ts          â€¢ Training goals
        â””â”€â”€ preferences/route.ts    â€¢ User preferences

src/
â”œâ”€â”€ components/                â† React Components
â”‚   â”œâ”€â”€ ui/                         â€¢ Base components
â”‚   â”‚   â”œâ”€â”€ Button.tsx
â”‚   â”‚   â”œâ”€â”€ Card.tsx
â”‚   â”‚   â”œâ”€â”€ Input.tsx
â”‚   â”‚   â””â”€â”€ Select.tsx
â”‚   â”œâ”€â”€ upload/                     â€¢ Upload components
â”‚   â”‚   â”œâ”€â”€ FileUploader.tsx
â”‚   â”‚   â”œâ”€â”€ UploadProgress.tsx
â”‚   â”‚   â””â”€â”€ FileValidator.ts
â”‚   â”œâ”€â”€ dashboard/                  â€¢ Dashboard components
â”‚   â”‚   â”œâ”€â”€ Dashboard.tsx
â”‚   â”‚   â”œâ”€â”€ ActivityCard.tsx
â”‚   â”‚   â”œâ”€â”€ StatsOverview.tsx
â”‚   â”‚   â””â”€â”€ TrainingCalendar.tsx
â”‚   â”œâ”€â”€ charts/                     â€¢ Visualization
â”‚   â”‚   â”œâ”€â”€ PaceChart.tsx               (Recharts/D3)
â”‚   â”‚   â”œâ”€â”€ HeartRateZones.tsx
â”‚   â”‚   â”œâ”€â”€ SplitAnalysis.tsx
â”‚   â”‚   â””â”€â”€ ElevationProfile.tsx
â”‚   â”œâ”€â”€ recommendations/            â€¢ Insights display
â”‚   â”‚   â”œâ”€â”€ RecommendationCard.tsx
â”‚   â”‚   â”œâ”€â”€ ConfidenceScore.tsx
â”‚   â”‚   â””â”€â”€ TrainingPlanSuggestion.tsx
â”‚   â””â”€â”€ forecast/                   â€¢ Predictions
â”‚       â”œâ”€â”€ ForecastDisplay.tsx
â”‚       â”œâ”€â”€ ScenarioSimulator.tsx
â”‚       â””â”€â”€ TrendProjection.tsx
â”‚
â””â”€â”€ lib/                       â† Business Logic
    â”œâ”€â”€ parsers/                    â€¢ File parsing
    â”‚   â”œâ”€â”€ FitParser.ts                (fit-file-parser)
    â”‚   â”œâ”€â”€ TcxParser.ts                (fast-xml-parser)
    â”‚   â”œâ”€â”€ GpxParser.ts                (fast-xml-parser)
    â”‚   â”œâ”€â”€ UnifiedDataModel.ts
    â”‚   â””â”€â”€ ParserFactory.ts
    â”œâ”€â”€ analysis/                   â€¢ Metrics calculation
    â”‚   â”œâ”€â”€ MetricsCalculator.ts
    â”‚   â”œâ”€â”€ TrendAnalyzer.ts
    â”‚   â”œâ”€â”€ StatisticalSummary.ts
    â”‚   â””â”€â”€ AnomalyDetector.ts
    â”œâ”€â”€ recommendations/            â€¢ Insight generation
    â”‚   â”œâ”€â”€ RecommendationGenerator.ts
    â”‚   â”œâ”€â”€ ConfidenceScorer.ts
    â”‚   â”œâ”€â”€ PersonalizationEngine.ts
    â”‚   â””â”€â”€ RuleEngine.ts
    â”œâ”€â”€ forecasting/                â€¢ Time prediction
    â”‚   â”œâ”€â”€ TimePredictor.ts
    â”‚   â”œâ”€â”€ RiegelFormula.ts
    â”‚   â”œâ”€â”€ ProgressionModel.ts
    â”‚   â””â”€â”€ ScenarioSimulator.ts
    â””â”€â”€ visualization/              â€¢ Data transformation
        â”œâ”€â”€ ChartDataTransformer.ts
        â”œâ”€â”€ ReportGenerator.ts
        â””â”€â”€ ExportService.ts
```

## 4. Database Schema

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   PostgreSQL Database                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       users          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)              â”‚â—„â”€â”€â”€â”€â”€â”
â”‚ email (UNIQUE)       â”‚      â”‚
â”‚ password_hash        â”‚      â”‚
â”‚ name                 â”‚      â”‚
â”‚ created_at           â”‚      â”‚
â”‚ updated_at           â”‚      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
                              â”‚
                              â”‚ (1:N)
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚    activities        â”‚      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”‚
â”‚ id (PK)              â”‚      â”‚
â”‚ user_id (FK)         â”‚â”€â”€â”€â”€â”€â”€â”˜
â”‚ file_name            â”‚
â”‚ file_path            â”‚
â”‚ file_type            â”‚  â† FIT/TCX/GPX
â”‚ activity_data (JSON) â”‚  â† Parsed data
â”‚ uploaded_at          â”‚
â”‚ processed_at         â”‚
â”‚ created_at           â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ (1:1)
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   activity_metrics   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)              â”‚
â”‚ activity_id (FK)     â”‚
â”‚ distance             â”‚
â”‚ duration             â”‚
â”‚ avg_pace             â”‚
â”‚ avg_heart_rate       â”‚
â”‚ avg_cadence          â”‚
â”‚ elevation_gain       â”‚
â”‚ vo2_max              â”‚
â”‚ training_stress      â”‚
â”‚ hr_zones (JSON)      â”‚  â† Zone distribution
â”‚ pace_zones (JSON)    â”‚
â”‚ splits (JSON)        â”‚  â† Km/mile splits
â”‚ created_at           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  recommendations     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)              â”‚
â”‚ activity_id (FK)     â”‚â”€â”€â”€â”€â”€â”€â”
â”‚ type                 â”‚      â”‚ (N:1)
â”‚ title                â”‚      â”‚
â”‚ description          â”‚      â”‚
â”‚ confidence_score     â”‚      â†‘
â”‚ priority             â”‚      â”‚
â”‚ created_at           â”‚      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚     forecasts        â”‚      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”‚
â”‚ id (PK)              â”‚      â”‚
â”‚ activity_id (FK)     â”‚â”€â”€â”€â”€â”€â”€â”˜
â”‚ predicted_5k_time    â”‚
â”‚ confidence_lower     â”‚
â”‚ confidence_upper     â”‚
â”‚ improvement_percent  â”‚
â”‚ timeline_weeks       â”‚
â”‚ algorithm_used       â”‚  â† Riegel/VDOT
â”‚ created_at           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   user_profiles      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)              â”‚
â”‚ user_id (FK)         â”‚â”€â”€â”€â”€â”€â”€â”
â”‚ age                  â”‚      â”‚ (1:1)
â”‚ gender               â”‚      â”‚
â”‚ weight               â”‚      â†‘
â”‚ max_heart_rate       â”‚      â”‚
â”‚ lactate_threshold    â”‚      â”‚
â”‚ preferred_units      â”‚      â”‚
â”‚ created_at           â”‚      â”‚
â”‚ updated_at           â”‚      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚   training_goals     â”‚      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”‚
â”‚ id (PK)              â”‚      â”‚
â”‚ user_id (FK)         â”‚â”€â”€â”€â”€â”€â”€â”˜
â”‚ goal_type            â”‚
â”‚ target_time          â”‚
â”‚ target_distance      â”‚
â”‚ target_date          â”‚
â”‚ status               â”‚  â† active/completed
â”‚ created_at           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 5. API Request/Response Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Upload & Analysis Request Flow                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

CLIENT                         SERVER
  â”‚
  â”‚  POST /api/upload
  â”‚  Content-Type: multipart/form-data
  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
  â”‚                                         1. Validate auth
  â”‚                                         2. Check file size
  â”‚                                         3. Validate MIME type
  â”‚                                         4. Save to storage
  â”‚                                         5. Queue processing
  â”‚
  â”‚  â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  â”‚  {
  â”‚    "uploadId": "uuid",
  â”‚    "status": "processing"
  â”‚  }
  â”‚
  â”‚  GET /api/upload/:id/status
  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
  â”‚                                         1. Check processing queue
  â”‚                                         2. Return current status
  â”‚
  â”‚  â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  â”‚  {
  â”‚    "status": "completed",
  â”‚    "activityId": "uuid"
  â”‚  }
  â”‚
  â”‚  GET /api/activities/:id
  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
  â”‚                                         1. Validate ownership
  â”‚                                         2. Fetch from database
  â”‚                                         3. Format response
  â”‚
  â”‚  â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  â”‚  {
  â”‚    "activity": {...},
  â”‚    "metrics": {...},
  â”‚    "recommendations": [...],
  â”‚    "forecast": {...}
  â”‚  }
  â”‚
  â”‚  Render Dashboard
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  â”‚ ğŸ“Š Charts       â”‚
  â”‚  â”‚ ğŸ“ˆ Metrics      â”‚
  â”‚  â”‚ ğŸ’¡ Insights     â”‚
  â”‚  â”‚ ğŸ”® Forecast     â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 6. Deployment Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   PRODUCTION DEPLOYMENT                      â”‚
â”‚                    (Vercel - Recommended)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚     DNS      â”‚
                    â”‚  Route 53/   â”‚
                    â”‚   Cloudflare â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Vercel CDN â”‚
                    â”‚  Edge Networkâ”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â†“                  â†“                  â†“
   [Static Assets]   [API Routes]      [Serverless]
        â”‚                  â”‚                  â”‚
        â”‚                  â†“                  â”‚
        â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
        â”‚           â”‚   Next.js    â”‚         â”‚
        â”‚           â”‚   Functions  â”‚         â”‚
        â”‚           â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
        â”‚                  â”‚                  â”‚
        â”‚                  â†“                  â”‚
        â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  Vercel KV   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚   (Redis)    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  PostgreSQL  â”‚
                    â”‚  (Vercel DB) â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Vercel Blob â”‚
                    â”‚ (File Store) â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Monitoring:
  â€¢ Vercel Analytics (performance)
  â€¢ Sentry (error tracking)
  â€¢ Custom metrics dashboard

CI/CD:
  â€¢ GitHub Actions â†’ Vercel deploy
  â€¢ Automatic preview deployments
  â€¢ Production deployment on merge to main
```

## 7. Security Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     SECURITY LAYERS                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Layer 1: Network Security
  â€¢ HTTPS/TLS 1.3 (all traffic)
  â€¢ CORS policy (whitelisted origins)
  â€¢ DDoS protection (Vercel)

Layer 2: Authentication
  â€¢ NextAuth.js (OAuth + credentials)
  â€¢ JWT tokens (short-lived: 15 min)
  â€¢ Refresh tokens (30 days)
  â€¢ Secure cookie settings

Layer 3: Authorization
  â€¢ Role-based access control (RBAC)
  â€¢ Resource ownership validation
  â€¢ Row-level security (PostgreSQL RLS)

Layer 4: Input Validation
  â€¢ Zod schema validation
  â€¢ File type validation (magic numbers)
  â€¢ Size limits enforcement
  â€¢ SQL injection prevention

Layer 5: Rate Limiting
  â€¢ Upload: 10 requests/hour
  â€¢ API: 100 requests/minute
  â€¢ Auth: 5 requests/minute

Layer 6: Data Protection
  â€¢ Database encryption at rest
  â€¢ File encryption (sensitive data)
  â€¢ GDPR compliance
  â€¢ Data anonymization

Layer 7: Monitoring
  â€¢ Audit logging
  â€¢ Error tracking (Sentry)
  â€¢ Suspicious activity detection
  â€¢ Security alerts
```

---

**Visual Design Notes**:
- Use Mermaid diagrams for interactive documentation
- Create SVG versions for presentations
- Add color coding: Blue (frontend), Green (backend), Orange (data)
- Include legend for symbols and arrows
